(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var t=e.i(71645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},a=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:s="",children:d,iconNode:l,...c},h)=>(0,t.createElement)("svg",{ref:h,...i,width:r,height:r,stroke:e,strokeWidth:o?24*Number(n)/Number(r):n,className:a("lucide",s),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(c)&&{"aria-hidden":"true"},...c},[...l.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(d)?d:[d]])),o=(e,i)=>{let o=(0,t.forwardRef)(({className:o,...s},d)=>(0,t.createElement)(n,{ref:d,iconNode:i,className:a(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,o),...s}));return o.displayName=r(e),o};e.s(["default",()=>o],75254)},37727,e=>{"use strict";let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},9165,e=>{"use strict";let t="https://script.google.com/macros/s/AKfycbyV8zmUVUsY1vZRUoXEGhkeBzI-yLC_M36yLsC-leJHjwPOx8jqNYXa_au6mZ50mt36oQ/exec";async function r(e,t={},a=8e3){let i=new AbortController,n=setTimeout(()=>i.abort(),a);try{return await fetch(e,{...t,signal:i.signal})}finally{clearTimeout(n)}}async function a(e,t={},i=2){let n=null;for(let a=0;a<=i;a++)try{let a=await r(e,t);if(a.ok||a.status<500)return a;throw Error(`Server error: ${a.status}`)}catch(t){if(n=t instanceof Error?t:Error(String(t)),a===i)break;let e=300*Math.pow(2,a);await new Promise(t=>setTimeout(t,e))}throw n||Error("Request failed after retries")}let i=new Map;function n(e){if(!e)return void i.clear();for(let t of i.keys())t.includes(e)&&i.delete(t)}async function o(e,t){let r=function(e){let t=i.get(e);return t?Date.now()-t.timestamp<(e.startsWith("students:")?6e4:e.startsWith("financial:")?12e4:e.startsWith("devFund:")||e.startsWith("referral:")?18e4:e.startsWith("branchCounts")?3e5:6e4)?t.data:(i.delete(e),null):null}(e);if(null!==r)return r;let a=await t();return i.set(e,{data:a,timestamp:Date.now()}),a}async function s(e,r,i=!1){let d=`students:${e}:${r}`;return i&&n(d),o(d,async()=>{let i=await a(`${t}?branch=${e}&month=${r}`),n=await i.json();if(!n.success)throw Error(n.error||"Failed to fetch students");return n.students})}async function d(e,r,i){let o=await a(t,{method:"POST",body:JSON.stringify({action:"mark_paid",id:e,branch:r,month:i})}),s=await o.json();if(!s.success)throw Error(s.error||"Failed to mark as paid");n(`students:${r}:${i}`),n(`financial:${r}`)}async function l(e,r,i){let o=await a(t,{method:"POST",body:JSON.stringify({action:"mark_break",id:e,branch:r,month:i})}),s=await o.json();if(!s.success)throw Error(s.error||"Failed to mark as break");n(`students:${r}:${i}`),n(`financial:${r}`)}async function c(e,r,i){let o=new FormData;o.append("action","mark_discontinued"),o.append("id",e),o.append("branch",r),o.append("month",i.toString()),await a(t,{method:"POST",body:o}),n(`students:${r}`),n(`financial:${r}`)}async function h(e,r,i){let n=new FormData;n.append("action","mark_non_recurring_paid"),n.append("studentId",e),n.append("branch",r),n.append("feeType",i),await a(t,{method:"POST",body:n})}async function u(){let e=await a(t,{method:"POST",body:JSON.stringify({action:"get_upcoming_birthdays"})}),r=await e.json();if(!r.success)throw Error(r.error||"Failed to fetch birthdays");return r.data}async function p(e,r,i,o,s,d,l,c,h,u,p){let m=new FormData;m.append("action","add_student"),m.append("branch",e),m.append("id",r),m.append("name",i),m.append("fee",o.toString()),m.append("phone",s),m.append("joinMonth",d.toString()),void 0!==l&&m.append("admissionFee",l.toString()),void 0!==c&&m.append("admissionPaid",c.toString()),void 0!==h&&m.append("dressFee",h.toString()),void 0!==u&&m.append("dressCost",u.toString()),void 0!==p&&m.append("dressPaid",p.toString());let f=await a(t,{method:"POST",body:m}),w=await f.json();if(!w.success)throw Error(w.error||"Failed to add student");return n(`students:${e}`),n(`financial:${e}`),n("branchCounts"),w.data}async function m(){return o("devFund:all",async()=>{let e=await a(t,{method:"POST",body:JSON.stringify({action:"get_dev_fund"})}),r=await e.json();if(!r.success)throw Error(r.error||"Failed to get development fund data");return r.data})}async function f(e,r,i,o,s){let d=await a(t,{method:"POST",body:JSON.stringify({action:"add_dev_expense",month:e,title:r,description:i,scope:o,amount:s})}),l=await d.json();if(!l.success)throw Error(l.error||"Failed to add expense");return n("devFund"),n("financial"),l.data}async function w(e){let r=await a(t,{method:"POST",body:JSON.stringify({action:"delete_dev_expense",expenseId:e})}),i=await r.json();if(!i.success)throw Error(i.error||"Failed to delete expense");return n("devFund"),n("financial"),{success:!0}}async function b(e){let r=await a(t,{method:"POST",body:JSON.stringify({action:"get_referral_credits",branch:e})}),i=await r.json();if(!i.success)throw Error(i.error||"Failed to get referral credits");return i.data}async function g(e,r,i,n,o,s,d){let l=await a(t,{method:"POST",body:JSON.stringify({action:"add_referral_credit",branch:e,studentId:r,amount:i,reason:n,description:o,usedInMonth:s,usedDate:d})}),c=await l.json();if(!c.success)throw Error(c.error||"Failed to add referral credit");return c.data}async function y(e,r){let i=await a(t,{method:"POST",body:JSON.stringify({action:"get_student_credits",studentId:e,branch:r})}),n=await i.json();if(!n.success)throw Error(n.error||"Failed to get student credits");return n.data}async function x(e,r,i,n){let o=await a(t,{method:"POST",body:JSON.stringify({action:"mark_paid_with_credit",id:e,branch:r,month:i,creditId:n})}),s=await o.json();if(!s.success)throw Error(s.error||"Failed to mark paid with credit")}async function v(e,r,i=!1){let s=`financial:${e}:${r}`;return i&&n(s),o(s,async()=>{let i=await a(t,{method:"POST",body:JSON.stringify({action:"get_financial_summary",branch:e,month:r})}),n=await i.json();if(!n.success)throw Error(n.error||"Failed to get financial summary");return n.data})}Array.from({length:12},(e,t)=>({month:t,year:"2026",collected:0,devFund:0,spent:0,carryForward:0})),e.s(["addDevelopmentExpense",()=>f,"addReferralCredit",()=>g,"addStudent",()=>p,"deleteDevelopmentExpense",()=>w,"getDevelopmentFundData",()=>m,"getFinancialSummary",()=>v,"getReferralCredits",()=>b,"getStudentAvailableCredits",()=>y,"getStudents",()=>s,"getUpcomingBirthdays",()=>u,"markBreak",()=>l,"markDiscontinued",()=>c,"markNonRecurringFeePaid",()=>h,"markPaid",()=>d,"markPaidWithCredit",()=>x])},30699,e=>{"use strict";let t=(0,e.i(75254).default)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);e.s(["Gift",()=>t],30699)},13816,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(30699),i=e.i(37727),n=e.i(75254);let o=(0,n.default)("party-popper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]),s=(0,n.default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);var d=e.i(9165);function l(){let[e,n]=(0,r.useState)([]),[l,c]=(0,r.useState)(!1),[h,u]=(0,r.useState)(!0);if((0,r.useEffect)(()=>{(async()=>{try{let e=await (0,d.getUpcomingBirthdays)();n(e)}catch(e){console.error("Failed to fetch birthdays",e)}finally{u(!1)}})()},[]),h||0===e.length)return null;let p=e.filter(e=>0===e.daysUntil).length>0;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{onClick:()=>c(!0),className:`fixed bottom-6 left-6 z-40 p-4 rounded-full shadow-[0_10px_40px_-10px_rgba(236,72,153,0.5)] hover:scale-105 transition-all duration-300 group ${p?"bg-gradient-to-br from-[#FF007A] via-[#A800FF] to-[#00E5FF] animate-pulse border-2 border-white/30":"bg-white/10 backdrop-blur-xl border border-white/20 hover:bg-white/20"}`,title:"Upcoming Birthdays",children:[(0,t.jsx)("div",{className:"relative",children:p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o,{className:"w-6 h-6 text-white group-hover:rotate-12 transition-transform drop-shadow-[0_0_8px_rgba(255,255,255,0.8)]"}),(0,t.jsx)(s,{className:"w-4 h-4 text-yellow-300 absolute -top-4 -right-4 animate-[spin_3s_linear_infinite]"})]}):(0,t.jsx)(a.Gift,{className:"w-6 h-6 text-[#FF007A] group-hover:rotate-12 transition-transform"})}),(0,t.jsx)("span",{className:`absolute -top-2 -right-2 text-[10px] font-black w-6 h-6 flex items-center justify-center rounded-full border shadow-lg ${p?"bg-gradient-to-r from-yellow-400 to-amber-500 text-black border-yellow-200 animate-bounce":"bg-[#FF007A] text-white border-black/50"}`,children:e.length})]}),l&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-md p-4 animate-in fade-in duration-300",onClick:()=>c(!1),children:(0,t.jsxs)("div",{className:"relative bg-[#050505] border border-white/10 rounded-3xl w-full max-w-sm overflow-hidden shadow-[0_0_40px_rgba(255,0,122,0.15)] animate-in zoom-in-95 duration-300",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("div",{className:"absolute -top-32 -right-32 w-64 h-64 bg-[#FF007A]/20 rounded-full blur-[80px] pointer-events-none"}),(0,t.jsx)("div",{className:"absolute -bottom-32 -left-32 w-64 h-64 bg-[#A800FF]/20 rounded-full blur-[80px] pointer-events-none"}),(0,t.jsxs)("div",{className:"relative p-6 pt-8 pb-4 text-center z-10 border-b border-white/5",children:[(0,t.jsx)("button",{onClick:()=>c(!1),className:"absolute top-4 right-4 p-2 bg-white/5 hover:bg-white/10 rounded-full transition-colors group backdrop-blur-sm",children:(0,t.jsx)(i.X,{className:"w-4 h-4 text-white/50 group-hover:text-white"})}),(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-tr from-[#FF007A]/20 to-[#A800FF]/20 border border-[#FF007A]/30 mb-4 shadow-[0_0_20px_rgba(255,0,122,0.2)]",children:(0,t.jsx)(s,{className:"w-8 h-8 text-[#FF007A]"})}),(0,t.jsx)("h2",{className:"font-[family-name:var(--font-space)] text-2xl tracking-[0.15em] font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-300 via-purple-300 to-indigo-300",children:"CAKE ALERT"}),(0,t.jsx)("p",{className:"text-[#A800FF] text-[10px] mt-2 uppercase tracking-[0.3em] font-bold",children:"Upcoming Celebrations"})]}),(0,t.jsx)("div",{className:"max-h-[55vh] overflow-y-auto px-4 py-4 scrollbar-hide relative z-10",children:(0,t.jsx)("div",{className:"space-y-3",children:e.map((e,r)=>{let a=0===e.daysUntil;return(0,t.jsxs)("div",{className:`relative overflow-hidden p-4 rounded-2xl transition-all duration-300 group ${a?"bg-gradient-to-r from-[#FF007A]/10 to-[#A800FF]/10 border border-[#FF007A]/30 hover:shadow-[0_0_20px_rgba(255,0,122,0.2)] hover:-translate-y-1":"bg-white/5 border border-white/5 hover:bg-white/10 hover:-translate-y-0.5"}`,style:{animationDelay:`${100*r}ms`},children:[a&&(0,t.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#FF007A]/20 rounded-full blur-[40px] pointer-events-none"}),(0,t.jsxs)("div",{className:"flex items-center gap-4 relative z-10",children:[(0,t.jsx)("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-xl font-[family-name:var(--font-space)] font-bold shadow-lg ${a?"bg-gradient-to-br from-[#FF007A] to-[#A800FF] text-white shadow-[0_0_15px_rgba(255,0,122,0.4)]":"bg-[#111] border border-white/10 text-white/70"}`,children:e.turningAge}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:`font-[family-name:var(--font-space)] text-base font-semibold truncate transition-colors ${a?"text-pink-100":"text-white/90 group-hover:text-white"}`,children:e.name}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs mt-1",children:[(0,t.jsx)("span",{className:"text-white/40 uppercase tracking-wider font-bold text-[9px] bg-white/5 px-2 py-0.5 rounded-full border border-white/10",children:"MPSC"===e.branch?"MPSC":"HERO"}),(0,t.jsx)("span",{className:`font-bold ${a?"text-[#FF007A] tracking-widest uppercase animate-pulse drop-shadow-[0_0_5px_rgba(255,0,122,0.8)]":"text-[#A800FF]/80"}`,children:a?"TODAY":1===e.daysUntil?"Tomorrow":`${e.month} ${e.day}`})]})]})]})]},e.id)})})}),(0,t.jsx)("div",{className:"p-4 bg-[#0a0a0a] relative z-20 border-t border-white/5",children:(0,t.jsx)("button",{onClick:()=>c(!1),className:"w-full py-3 rounded-xl bg-gradient-to-r from-white/5 to-white/10 hover:from-white/10 hover:to-white/20 text-white/60 hover:text-white text-[10px] tracking-[0.3em] uppercase font-bold transition-all duration-300 border border-white/5 hover:border-white/20",children:"Dismiss"})})]})})]})}e.s(["default",()=>l],13816)}]);